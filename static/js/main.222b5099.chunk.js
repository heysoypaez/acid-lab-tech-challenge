(this["webpackJsonpacid-challenge"]=this["webpackJsonpacid-challenge"]||[]).push([[0],{40:function(t,e,n){t.exports=n(64)},46:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){},57:function(t,e,n){},58:function(t,e,n){},59:function(t,e,n){},60:function(t,e,n){},61:function(t,e,n){},62:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(32),c=n.n(o),l=n(7),i=n.n(l),u=n(39),s=n(14),m=n(13),h=n(18),p=n(3),d=n(9),b=n(4),f=n(5),E=n(17),v=n(16),g=(n(46),function(t){var e=t.photo;return r.a.createElement("figure",{className:"Photo"},r.a.createElement(v.b,{to:"/photos/".concat(e.id)},r.a.createElement("img",{src:e.thumbnailUrl,alt:e.title,title:e.title}),r.a.createElement("figcaption",null,e.title)))});n(51);var O=function(t){return r.a.createElement("section",{className:"Photos"},t.photos.map((function(t){return r.a.createElement(g,{photo:t,key:t.id})})))};n(52);var j=function(t){return r.a.createElement("section",{className:"Loader"},"Loading...")};n(53);var y=function(t){return r.a.createElement("form",{className:"NewPhotoForm",onSubmit:t.onSubmit},r.a.createElement("input",{type:"text",name:"title",id:"title",placeholder:"Title",onChange:t.onChange}),r.a.createElement("input",{type:"url",id:"url",name:"url",placeholder:"Image url",onChange:t.onChange}),r.a.createElement("input",{type:"url",name:"thumbnailUrl",placeholder:"thumbnail url",onChange:t.onChange}),r.a.createElement("input",{type:"submit",value:"Create New Photo",className:"cta"}))},C=n(8);n(54);var P=function(t){return r.a.createElement("form",{className:"EditPhotoForm",onSubmit:t.onSubmit},r.a.createElement("input",{type:"text",name:"title",placeholder:"Title",onChange:t.onChange}),r.a.createElement("input",{type:"url",name:"thumbnailUrl",placeholder:"thumbnail url",onChange:t.onChange}),r.a.createElement("input",{type:"submit",value:"Edit Photo",className:"cta"}))};var k=function(t){return r.a.createElement("section",{className:"EditPhotoControls"},r.a.createElement("button",{className:"cta",onClick:t.onDeleteClick},"Delete"),r.a.createElement("button",{className:"cta cta-secondary",onClick:t.onEditClick},"Edit"))},w=n(34);function S(t){var e=t.site,n=e.lang,a=e.title,o=e.metaDescription,c=e.author;return r.a.createElement(w.a,{htmlAttributes:{lang:n},title:a,titleTemplate:"%s | My Photos App",meta:[{name:"description",content:o},{property:"og:title",content:a},{property:"og:description",content:o},{property:"og:type",content:"website"},{name:"twitter:card",content:o},{name:"twitter:creator",content:c},{name:"twitter:title",content:a},{name:"twitter:description",content:o},{name:"keywords",content:"photos,photo,photos gallery"}]})}S.defaultProps={site:{title:"Photos",metaDescription:"A Web application for remember and take new photos of your life",lang:"EN",author:"heysoypaez"}};var x=S,N="https://graphqlzero.almansi.me/api",D="\n\tmutation (\n\t  $input: CreatePhotoInput!\n\t) {\n\t  createPhoto(input: $input) {\n\t    title\n\t    url\n\t    thumbnailUrl\n\t  }\n\t}\n",A="\n\t\t\tquery (\n\t\t\t  $options: PageQueryOptions\n\t\t\t) {\n\t\t\t  photos(options: $options) {\n\t\t\t    data {\n\t\t\t      id\n\t\t\t      title\n\t\t\t      url\n\t\t\t      thumbnailUrl\n\t\t\t    }\n\t\t\t    meta {\n\t\t\t      totalCount\n\t\t\t    }\n\t\t\t  }\n\t\t\t}\n\t\t",I="\n\t\tquery (\n\t\t  $id: ID!\n\t\t) \t{\n    photo(id: $id) {\n      id\n      title\n      url\n      thumbnailUrl\n    }\n  }\n",F=function(t){var e=Object(a.useState)(!0),n=Object(C.a)(e,2),o=n[0],c=n[1],l=Object(a.useState)(0),u=Object(C.a)(l,2),p=u[0],d=u[1],b=Object(a.useState)(!0),f=Object(C.a)(b,2),v=f[0],O=f[1],y=Object(a.useState)(null),w=Object(C.a)(y,2),S=w[0],D=w[1],A=Object(a.useState)({}),F=Object(C.a)(A,2),M=F[0],U=F[1],$=Object(a.useState)(!1),q=Object(C.a)($,2),H=q[0],z=q[1],L=Object(a.useState)(!1),T=Object(C.a)(L,2),J=T[0],B=T[1],Q=Object(a.useState)({}),W=Object(C.a)(Q,2),_=W[0],G=W[1],K=function(){var t=Object(s.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.prev=1,t.next=4,Object(E.a)({url:N,query:"\n\tmutation (\n\t  $id: ID!\n\t) {\n\t  deletePhoto(id: $id)\n}\n",id:p});case 4:e=t.sent,n=e.deletePhoto,B(n),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),D(t.t0);case 13:O(!1);case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(s.a)(i.a.mark((function t(e){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(E.a)({url:N,query:"\n\t\tmutation (\n\t\t  $id: ID!,\n\t\t  $input: UpdatePhotoInput!\n\t\t) {\n\t\t  updatePhoto(id: $id, input: $input) {\n\t\t    id\n\t\t    title\n\t\t    thumbnailUrl\n\t\t  }\n\t\t}\n\t\t",id:e,input:{title:_.title,thumbnailUrl:_.thumbnailUrl}});case 3:n=t.sent,a=n.updatePhoto,U(a),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),D(t.t0),console.log(t.t0);case 12:O(!0);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=Object(s.a)(i.a.mark((function t(e){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(O(!0),t.prev=1,d(M.id),!o){t.next=9;break}return t.next=6,Object(E.a)({url:N,query:I,id:e});case 6:n=t.sent,a=n.photo,U(a);case 9:c(!1),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),D(t.t0),console.log(t.t0);case 16:O(!1);case 17:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){v&&V(t.photo.id)})),v?r.a.createElement(j,null):S?r.a.createElement("h2",null,S):J?r.a.createElement("section",null,"Photo deleted"):r.a.createElement("section",{className:"EditablePhoto"},r.a.createElement(x,{site:{title:M.title,metaDescription:M.title}}),r.a.createElement(g,{photo:M}),r.a.createElement("section",null,r.a.createElement(k,{onDeleteClick:function(){K()},onEditClick:function(){z(!H)}}),H&&r.a.createElement(P,{onSubmit:function(t){t.preventDefault(),R(p),z(!1)},onChange:function(t){G(Object(h.a)(Object(h.a)({},_),{},Object(m.a)({},t.target.name,t.target.value)))}})))};var M=function(t){return r.a.createElement("section",{className:"EditPhotosControls"},r.a.createElement("input",{type:"button",value:"Add Photo",className:"cta cta-secondary",onClick:t.onAddPhotoClick}),r.a.createElement("input",{type:"button",value:"Edit Mode",className:"cta",onClick:t.onEditModeClick}))},U=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={photos:[],loading:!0,error:null,showCreate:!1,editMode:!1},t.handleEditModeClick=function(e){t.state.showCreate?t.setState({editMode:!1}):t.setState({editMode:!0})},t.handleAddPhotoClick=function(e){t.state.showCreate?t.setState({showCreate:!1}):t.setState({showCreate:!0})},t.handleInputChange=function(e){t.setState({form:Object(h.a)(Object(h.a)({},t.state.form),{},Object(m.a)({},e.target.name,e.target.value))})},t.handleSubmit=function(e){e.preventDefault(),t.createPhoto(t.state.form)},t.createPhoto=function(){var e=Object(s.a)(i.a.mark((function e(n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(E.a)({url:N,query:D,input:{title:n.title,url:n.url,thumbnailUrl:n.thumbnailUrl}});case 3:return a=e.sent,r=a.createPhoto,t.setState({photos:[r].concat(Object(u.a)(t.state.photos)),loading:!1,error:null,showCreate:!1}),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),t.setState({error:e.t0,loading:!1}),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),t.fetchPhotos=Object(s.a)(i.a.mark((function e(){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(E.a)({url:N,query:A,options:{sort:{order:"DESC",field:"id"},paginate:{page:1,limit:30}}});case 3:n=e.sent,a=n.photos,t.setState({photos:a.data,loading:!1,error:null}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.setState({error:e.t0,loading:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),t.componentDidMount=function(e){t.fetchPhotos()},t}return Object(d.a)(n,[{key:"render",value:function(){var t=this;return this.state.loading?r.a.createElement(j,null):this.state.photos.length>0&&!this.state.loading?this.state.editMode?r.a.createElement("section",{className:"Photos"},this.state.photos.map((function(e){return r.a.createElement(F,{photo:e,key:e.id,onPhotoDeleted:t.handlePhotoDeleted})}))):r.a.createElement(a.Fragment,null,r.a.createElement(M,{onAddPhotoClick:this.handleAddPhotoClick,onEditModeClick:this.handleEditModeClick}),this.state.showCreate&&r.a.createElement(y,{onSubmit:this.handleSubmit,onChange:this.handleInputChange}),r.a.createElement(O,{photos:this.state.photos})):r.a.createElement(a.Fragment,null,"Photos")}}]),n}(a.Component);n(57);var $=function(t){return r.a.createElement("section",{className:"Hero"},r.a.createElement("h1",null,t.title))};var q=function(t){return r.a.createElement("section",{className:"Home"},r.a.createElement($,{title:"My Photos App"}),r.a.createElement(U,null))},H=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(p.a)(this,n),(a=e.call(this,t)).state={},a}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,"Hello AlbumDetails ")}}]),n}(a.Component),z=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(p.a)(this,n),(a=e.call(this,t)).state={},a}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,"Hello AlbumEdit ")}}]),n}(a.Component),L=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(p.a)(this,n),(a=e.call(this,t)).state={},a}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,"Hello AlbumNew ")}}]),n}(a.Component),T=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(p.a)(this,n),(a=e.call(this,t)).state={},a}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement($,{title:"Next soon in the following technical challenge"})}}]),n}(a.Component),J=(n(58),function(t){var e=Object(a.useState)(!0),n=Object(C.a)(e,2),o=n[0],c=n[1],l=Object(a.useState)(null),u=Object(C.a)(l,2),m=(u[0],u[1]),h=Object(a.useState)({}),p=Object(C.a)(h,2),d=p[0],b=p[1],f=function(){var e=Object(s.a)(i.a.mark((function e(n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,Object(E.a)({url:N,query:I,id:t.match.params.photoId});case 4:a=e.sent,r=a.photo,b(r),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),m(e.t0),console.log(e.t0);case 13:c(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){o&&f(t.match.params.photoId)})),r.a.createElement("section",{className:"PhotoDetails"},r.a.createElement(x,{site:{title:d.title,metaDescription:d.title}}),r.a.createElement(F,{photo:{id:t.match.params.photoId}}))}),B=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(p.a)(this,n),(a=e.call(this,t)).state={},a}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,"Hello PhotoEdit ")}}]),n}(a.Component),Q=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={loading:!1,form:{},sent:!1},t.handleInputChange=function(e){t.setState({form:Object(h.a)(Object(h.a)({},t.state.form),{},Object(m.a)({},e.target.name,e.target.value))})},t.handleSubmit=function(e){e.preventDefault(),t.createPhoto(t.state.form)},t.createPhoto=function(){var e=Object(s.a)(i.a.mark((function e(n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(E.a)({url:N,query:D,input:{title:n.title,url:n.url,thumbnailUrl:n.thumbnailUrl}});case 3:return a=e.sent,r=a.createPhoto,t.setState({photoSent:r,loading:!1,error:null,sent:!0}),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),t.setState({error:e.t0,loading:!1}),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),t}return Object(d.a)(n,[{key:"render",value:function(){return this.state.loading?r.a.createElement(j,null):this.state.sent?r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"Photo created Succesfully!"),r.a.createElement(g,{photo:this.state.form}),r.a.createElement(v.b,{to:"/photos"},"See all the photos")):r.a.createElement(y,{onSubmit:this.handleSubmit,onChange:this.handleInputChange})}}]),n}(a.Component),W=function(t){var e=t.page,n=e.title,o=e.metaDescription;return r.a.createElement(a.Fragment,null,r.a.createElement(x,{site:{title:n,metaDescription:o}}),r.a.createElement($,{title:n}),r.a.createElement(Q,null))};W.defaultProps={page:{title:"Create a new photo in a matter of seconds",metaDescription:"Create a new photo in a matter of seconds"}};var _=W,G=function(t){var e=t.page,n=e.title,o=e.metaDescription;return r.a.createElement(a.Fragment,null,r.a.createElement(x,{site:{title:n,metaDescription:o}}),r.a.createElement(U,null))};G.defaultProps={page:{title:"All your photos in one place",metaDescription:"All your photos in one place"}};var K=G;var R=function(t){return r.a.createElement("section",{className:"NotFound"},"NotFound Testing")},V=n(2);n(59);var X=function(t){return r.a.createElement("nav",{className:"Navbar"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(v.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(v.b,{to:"/photos"},"Photos")),r.a.createElement("li",null,r.a.createElement(v.b,{to:"/albums"},"Albums")),r.a.createElement("li",null,r.a.createElement(v.b,{to:"/photos/new",className:"cta"},"Create"))))};n(60);var Y=function(t){return r.a.createElement("section",{className:"Header"},r.a.createElement("h2",null,"My Photos App"),r.a.createElement(X,null))};n(61);var Z=function(t){return r.a.createElement("section",{className:"Footer"},"Made by"," ",r.a.createElement("a",{href:"mailto:danielpaezsw66@gmail.com",target:"_blank",rel:"noopener noreferrer"},"@heysoypaez")," ","for Acid Labs with \u2764\ufe0f\ufe0f")};n(62);var tt=function(t){return r.a.createElement(a.Fragment,null,r.a.createElement(x,null),r.a.createElement(Y,null),r.a.createElement("main",{className:"Layout"},t.children),r.a.createElement(Z,null))};n(63);var et=function(t){return r.a.createElement(v.a,{basename:"/"},r.a.createElement(tt,null,r.a.createElement(V.c,null,r.a.createElement(V.a,{exact:!0,path:"/",component:q}),r.a.createElement(V.a,{exact:!0,path:"/albums",component:T}),r.a.createElement(V.a,{exact:!0,path:"/albums/new",component:L}),r.a.createElement(V.a,{exact:!0,path:"/albums/:albumId",component:H}),r.a.createElement(V.a,{exact:!0,path:"/albums/:albumId/edit",component:z}),r.a.createElement(V.a,{exact:!0,path:"/photos",component:K}),r.a.createElement(V.a,{exact:!0,path:"/photos/new",component:_}),r.a.createElement(V.a,{exact:!0,path:"/photos/:photoId",component:J}),r.a.createElement(V.a,{exact:!0,path:"/photos/:photoId/edit",component:B}),r.a.createElement(V.a,{component:R}))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(et,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.222b5099.chunk.js.map