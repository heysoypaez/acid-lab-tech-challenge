(this["webpackJsonpacid-challenge"]=this["webpackJsonpacid-challenge"]||[]).push([[0],{38:function(t,e,n){t.exports=n(61)},44:function(t,e,n){},49:function(t,e,n){},50:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){},55:function(t,e,n){},56:function(t,e,n){},57:function(t,e,n){},58:function(t,e,n){},59:function(t,e,n){},60:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(31),l=n.n(o),c=n(8),i=n.n(c),u=n(16),m=n(3),s=n(7),p=n(4),h=n(5),b=n(17),f=n(13),E=(n(44),function(t){var e=t.photo;return r.a.createElement("figure",{className:"Photo"},r.a.createElement(f.b,{to:"/photos/".concat(e.id)},r.a.createElement("img",{src:e.thumbnailUrl,alt:e.title,title:e.title}),r.a.createElement("figcaption",null,e.title)))});n(49);var d=function(t){return r.a.createElement("section",{className:"Photos"},t.photos.map((function(t){return r.a.createElement(E,{photo:t,key:t.id})})))};n(50);var g=function(t){return r.a.createElement("section",{className:"Loader"},"Loading...")},v="https://graphqlzero.almansi.me/api",O="\n\tmutation (\n\t  $input: CreatePhotoInput!\n\t) {\n\t  createPhoto(input: $input) {\n\t    title\n\t    url\n\t    thumbnailUrl\n\t  }\n\t}\n",j="\n\t\t\tquery (\n\t\t\t  $options: PageQueryOptions\n\t\t\t) {\n\t\t\t  photos(options: $options) {\n\t\t\t    data {\n\t\t\t      id\n\t\t\t      title\n\t\t\t      url\n\t\t\t      thumbnailUrl\n\t\t\t    }\n\t\t\t    meta {\n\t\t\t      totalCount\n\t\t\t    }\n\t\t\t  }\n\t\t\t}\n\t\t",y=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={photos:[],loading:!0,error:null},t.fetchPhotos=Object(u.a)(i.a.mark((function e(){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(b.a)({url:v,query:j,options:{sort:{order:"DESC",field:"id"},paginate:{page:1,limit:30}}});case 3:n=e.sent,a=n.photos,t.setState({photos:a.data,loading:!1,error:null}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.setState({error:e.t0,loading:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),t.componentDidMount=function(e){t.fetchPhotos()},t}return Object(s.a)(n,[{key:"render",value:function(){return this.state.loading?r.a.createElement(g,null):this.state.photos.length>0&&!this.state.loading?r.a.createElement(d,{photos:this.state.photos}):r.a.createElement(a.Fragment,null,"Photos")}}]),n}(a.Component);n(53);var C=function(t){return r.a.createElement("section",{className:"Hero"},r.a.createElement("h1",null,t.title))};var w=function(t){return r.a.createElement("section",{className:"Home"},r.a.createElement(C,{title:"My Photos App"}),r.a.createElement(y,null))},P=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(m.a)(this,n),(a=e.call(this,t)).state={},a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,"Hello AlbumDetails ")}}]),n}(a.Component),x=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(m.a)(this,n),(a=e.call(this,t)).state={},a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,"Hello AlbumEdit ")}}]),n}(a.Component),S=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(m.a)(this,n),(a=e.call(this,t)).state={},a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,"Hello AlbumNew ")}}]),n}(a.Component),k=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(m.a)(this,n),(a=e.call(this,t)).state={},a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(C,{title:"Next soon in the following technical challenge"})}}]),n}(a.Component),N=n(15),D=n(21),F=n(14);n(54);var I=function(t){return r.a.createElement("form",{className:"EditPhotoForm",onSubmit:t.onSubmit},r.a.createElement("input",{type:"text",name:"title",placeholder:"Title",onChange:t.onChange}),r.a.createElement("input",{type:"url",name:"thumbnailUrl",placeholder:"thumbnail url",onChange:t.onChange}),r.a.createElement("input",{type:"submit",value:"Edit Photo"}))},A=n(35);function U(t){var e=t.site,n=e.lang,a=e.title,o=e.metaDescription,l=e.author;return r.a.createElement(A.a,{htmlAttributes:{lang:n},title:a,titleTemplate:"%s | My Photos App",meta:[{name:"description",content:o},{property:"og:title",content:a},{property:"og:description",content:o},{property:"og:type",content:"website"},{name:"twitter:card",content:o},{name:"twitter:creator",content:l},{name:"twitter:title",content:a},{name:"twitter:description",content:o},{name:"keywords",content:"photos,photo,photos gallery"}]})}U.defaultProps={site:{title:"Photos",metaDescription:"A Web application for remember and take new photos of your life",lang:"EN",author:"heysoypaez"}};var $=U,q=function(t){var e=Object(a.useState)(0),n=Object(F.a)(e,2),o=n[0],l=n[1],c=Object(a.useState)(!0),m=Object(F.a)(c,2),s=m[0],p=m[1],h=Object(a.useState)(null),f=Object(F.a)(h,2),d=f[0],v=f[1],O=Object(a.useState)({}),j=Object(F.a)(O,2),y=j[0],C=j[1],w=Object(a.useState)(!1),P=Object(F.a)(w,2),x=P[0],S=P[1],k=Object(a.useState)(!1),A=Object(F.a)(k,2),U=A[0],q=A[1],H=Object(a.useState)({}),z=Object(F.a)(H,2),M=z[0],T=z[1],L=Object(a.useState)(!1),J=Object(F.a)(L,2),B=J[0],Q=J[1],W=function(){var t=Object(u.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(!0),t.next=4,Object(b.a)({url:"https://graphqlzero.almansi.me/api",query:"\n\tmutation (\n\t  $id: ID!\n\t) {\n\t  deletePhoto(id: $id)\n}\n",id:o});case 4:e=t.sent,n=e.deletePhoto,q(n),p(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),v(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),_=function(){W()},G=function(t){T(Object(D.a)(Object(D.a)({},M),{},Object(N.a)({},t.target.name,t.target.value))),console.log(M)},K=function(){var t=Object(u.a)(i.a.mark((function t(e){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.a)({url:"https://graphqlzero.almansi.me/api",query:"\n\t\tmutation (\n\t\t  $id: ID!,\n\t\t  $input: UpdatePhotoInput!\n\t\t) {\n\t\t  updatePhoto(id: $id, input: $input) {\n\t\t    id\n\t\t    title\n\t\t    thumbnailUrl\n\t\t  }\n\t\t}\n\t\t",id:e,input:{title:M.title,thumbnailUrl:M.thumbnailUrl}});case 3:n=t.sent,a=n.updatePhoto,console.log(a),p(!0),Q(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),R=function(){S(!x)},V=function(t){t.preventDefault(),K(o),S(!1)},X=function(){var e=Object(u.a)(i.a.mark((function e(n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(t.match.params.photoId),e.next=4,Object(b.a)({url:"https://graphqlzero.almansi.me/api",query:"\n\t\tquery (\n\t\t  $id: ID!\n\t\t) \t{\n    photo(id: $id) {\n      id\n      title\n      url\n      thumbnailUrl\n    }\n  }\n",id:n});case 4:a=e.sent,r=a.photo,C(r),p(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),v(e.t0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){s&&X(o)})),s?r.a.createElement(g,null):B?r.a.createElement(a.Fragment,null,r.a.createElement(E,{photo:B}),r.a.createElement("button",{className:"cta",onClick:_},"Delete"),r.a.createElement("button",{className:"cta cta-secondary",onClick:R},"Edit"),x&&r.a.createElement(I,{onSubmit:V,onChange:G})):d?r.a.createElement("h2",null,d):U?r.a.createElement("h2",null,"Photo deleted"):r.a.createElement(a.Fragment,null,r.a.createElement($,{site:{title:y.title,metaDescription:y.title}}),r.a.createElement(E,{photo:y}),r.a.createElement("button",{className:"cta",onClick:_},"Delete"),r.a.createElement("button",{className:"cta cta-secondary",onClick:R},"Edit"),x&&r.a.createElement(I,{onSubmit:V,onChange:G}))},H=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(m.a)(this,n),(a=e.call(this,t)).state={},a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,"Hello PhotoEdit ")}}]),n}(a.Component);n(55);var z=function(t){return r.a.createElement("form",{className:"NewPhotoForm",onSubmit:t.onSubmit},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",name:"title",id:"title",placeholder:"Title",onChange:t.onChange}),r.a.createElement("label",{htmlFor:"url"},"Image Url"),r.a.createElement("input",{type:"url",id:"url",name:"url",placeholder:"Image url",onChange:t.onChange}),r.a.createElement("input",{type:"url",name:"thumbnailUrl",placeholder:"thumbnail url",onChange:t.onChange}),r.a.createElement("input",{type:"submit",value:"Create New Photo"}))},M=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={loading:!1,form:{},sent:!1},t.handleInputChange=function(e){t.setState({form:Object(D.a)(Object(D.a)({},t.state.form),{},Object(N.a)({},e.target.name,e.target.value))})},t.handleSubmit=function(e){e.preventDefault(),t.createPhoto(t.state.form)},t.createPhoto=function(){var e=Object(u.a)(i.a.mark((function e(n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(b.a)({url:v,query:O,input:{title:n.title,url:n.url,thumbnailUrl:n.thumbnailUrl}});case 3:return a=e.sent,r=a.createPhoto,t.setState({photoSent:r,loading:!1,error:null,sent:!0}),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),t.setState({error:e.t0,loading:!1}),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),t}return Object(s.a)(n,[{key:"render",value:function(){return this.state.loading?r.a.createElement(g,null):this.state.sent?r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"Photo created Succesfully!"),r.a.createElement(E,{photo:this.state.form}),r.a.createElement(f.b,{to:"/photos"},"See all the photos")):r.a.createElement(z,{onSubmit:this.handleSubmit,onChange:this.handleInputChange})}}]),n}(a.Component),T=function(t){var e=t.page,n=e.title,o=e.metaDescription;return r.a.createElement(a.Fragment,null,r.a.createElement($,{site:{title:n,metaDescription:o}}),r.a.createElement(C,{title:n}),r.a.createElement(M,null))};T.defaultProps={page:{title:"Create a new photo in a matter of seconds",metaDescription:"Create a new photo in a matter of seconds"}};var L=T,J=function(t){var e=t.page,n=e.title,o=e.metaDescription;return r.a.createElement(a.Fragment,null,r.a.createElement($,{site:{title:n,metaDescription:o}}),r.a.createElement(y,null))};J.defaultProps={page:{title:"All your photos in one place",metaDescription:"All your photos in one place"}};var B=J;var Q=function(t){return r.a.createElement("section",{className:"NotFound"},"NotFound Testing")},W=n(2);n(56);var _=function(t){return r.a.createElement("nav",{className:"Navbar"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(f.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(f.b,{to:"/photos"},"Photos")),r.a.createElement("li",null,r.a.createElement(f.b,{to:"/albums"},"Albums")),r.a.createElement("li",null,r.a.createElement(f.b,{to:"/photos/new",className:"cta"},"Create"))))};n(57);var G=function(t){return r.a.createElement("section",{className:"Header"},r.a.createElement("h2",null,"My Photos App"),r.a.createElement(_,null))};n(58);var K=function(t){return r.a.createElement("section",{className:"Footer"},"Made by"," ",r.a.createElement("a",{href:"mailto:danielpaezsw66@gmail.com",target:"_blank",rel:"noopener noreferrer"},"@heysoypaez")," ","for Acid Labs with \u2764\ufe0f\ufe0f")};n(59);var R=function(t){return r.a.createElement(a.Fragment,null,r.a.createElement($,null),r.a.createElement(G,null),r.a.createElement("main",{className:"Layout"},t.children),r.a.createElement(K,null))};n(60);var V=function(t){return r.a.createElement(f.a,{basename:"/"},r.a.createElement(R,null,r.a.createElement(W.c,null,r.a.createElement(W.a,{exact:!0,path:"/",component:w}),r.a.createElement(W.a,{exact:!0,path:"/albums",component:k}),r.a.createElement(W.a,{exact:!0,path:"/albums/new",component:S}),r.a.createElement(W.a,{exact:!0,path:"/albums/:albumId",component:P}),r.a.createElement(W.a,{exact:!0,path:"/albums/:albumId/edit",component:x}),r.a.createElement(W.a,{exact:!0,path:"/photos",component:B}),r.a.createElement(W.a,{exact:!0,path:"/photos/new",component:L}),r.a.createElement(W.a,{exact:!0,path:"/photos/:photoId",component:q}),r.a.createElement(W.a,{exact:!0,path:"/photos/:photoId/edit",component:H}),r.a.createElement(W.a,{component:Q}))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.0c4ea529.chunk.js.map